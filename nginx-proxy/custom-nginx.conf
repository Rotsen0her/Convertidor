# Configuración personalizada de Nginx para manejar archivos grandes
# Este archivo debe ser incluido en tu Proxy Host de Nginx Proxy Manager

# Timeouts aumentados para procesamiento de archivos grandes
proxy_connect_timeout 3600s;
proxy_send_timeout 3600s;
proxy_read_timeout 3600s;
send_timeout 3600s;

# Tamaño máximo de carga
client_max_body_size 2000M;

# Buffers para archivos grandes
client_body_buffer_size 256k;
client_body_temp_path /tmp/nginx_client_temp;
proxy_buffering off;
proxy_request_buffering off;

# Headers adicionales para streaming
proxy_http_version 1.1;
proxy_set_header Connection "";
proxy_set_header X-Real-IP $remote_addr;
proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
proxy_set_header X-Forwarded-Proto $scheme;
proxy_set_header Host $host;

# Cache deshabilitado para uploads
proxy_cache off;
